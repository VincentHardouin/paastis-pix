# 2022-09-19 - Multi-PaaS, multi-users

## Bilan

Faisons le point, apr√®s 2 semaines tout pile de boulot :
- je n'ai pas de tests auto, ni de CI / CD, ni de package npm, ni image Docker sur le Hub
- j'ai un POC qui valide l'hypoth√®se qu'on peut faire un proxy multi-paas
- le tout est Open Source (licence AGPL-3.0)

## Vision, ambition et licence

> üí° On n'a plus le droit d'utiliser le code [SPDX](https://fr.wikipedia.org/wiki/SPDX) `AGPL-3.0` qui est d√©pr√©ci√©e mais `AGPL-3.0-or-later` ou `AGPL-3.0-only`. 

Je me demande s'il ne faudrait pas changer la licence : **passer de `AGPL-3.0` √† [`CC BY-NC-SA 3.0`](https://creativecommons.org/licenses/by-nc-sa/3.0/deed.fr)**.

**Vision (√† date) :** j'ai envie de conserver un moteur en logiciel libre.
Je suis persuad√© que ce projet peut permettre d'√©conomiser un peu les ressources de la plan√®te et contribuer √† faire de l'IT PaaS-based un endroit √©cologiquement un peu meilleur.
Si plein d'√©quipes utilisent `paastis-engine` ce sera une belle victoire.

A c√¥t√© de √ßa, je trouve l√©gitime de pouvoir retirer de tout mon travail une r√©mun√©ration pour toutes ces heures pass√©es et toutes les comp√©tences mobilis√©es (lesquelles sont le r√©sultat d'ann√©es d'efforts et progression).

**Proposition de valeur :** tout repose sur 3 promesses fortes qui n'ont pas chang√© depuis le premier jour :
- √©conomique
- √©cologique
- pratique

**Business model :** Je vois 3 axes pour la partie payante : 
- proposer l'h√©bergement d'une (multitude d') instance(s) (?) pour simplifier encore plus la vie des √©quipes
- proposer une console d'admin Web (+ mobile apps) qui renforce la promesse "pratique"
- proposer du support et une priorit√© aux √©quipes qui payent 

**Business plans :** (√† tester / am√©liorer)
- free : 1 provider, 5 apps max en m√™me temps
- team : 3 providers, 15 apps max en m√™me temps pour chaque provider
- enterprise : 5 providers, 100 apps max en m√™me temps pour chaque provider

> ‚ùìComment faire en sorte que le code de l'engine soit open source tout en prot√©geant mon activit√© ? 

## Architecture SaaS

J'en viens √† me questionner sur la partie SaaS.

O√π et comment g√©rer le fait d'avoir plusieurs clients ?

Si on commence √† g√©rer les _Espaces_ (1 espace = 1 config de provider pour 1 user) dans paastis-engine, √ßa va rendre le projet inutilisable pour les √©ventuels d√©veloppeurs ou √©quipes initialement int√©ress√©es.

### MicroVMs & Firecracker

J'ai entendu parler (par Yves d'Empreinte Digitale) de [Firecracker](https://firecracker-microvm.github.io/), une techno OSS d'orchestration de _microVMs_.

> Firecracker is an open source virtualization technology that is purpose-built for creating and managing secure, multi-tenant container and function-based services. 

Une piste peut √™tre de g√©n√©rer et g√©rer plein de microVMs, 1 par Espace.

Avantages :
- s√©gr√©gation forte (_a priori_) des flux et donn√©es
- 

Risques :
- le co√ªt d'infra
- les comp√©tences d'admin syst√®me sp√©cialis√© en VM (que je pense ne pas avoir aujourd'hui)
- le code de glue √† inventer (vs. du CRUD en Node.js)
